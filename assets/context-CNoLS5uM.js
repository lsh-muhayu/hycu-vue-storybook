import{i as G}from"./useDirection-BIItnOsU.js";import{e as S,r as w,v as P,C as H,x as O,J as V,d as Y,S as X,k as J,o as z,w as Q,h as Z,u as ee,U as R,V as U,W as te}from"./iframe-yWTjsvXx.js";import{g as ne,t as oe,i as L,h as D,b as re,e as se,j as ae,u as ie,P as ue}from"./Primitive-CVbMviMr.js";import{g}from"./Collection-CDOXfoWf.js";function k(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function T(e,t,n=".",o){if(!k(t))return T(e,{},n,o);const a=Object.assign({},t);for(const s in e){if(s==="__proto__"||s==="constructor")continue;const c=e[s];c!=null&&(o&&o(a,s,c,n)||(Array.isArray(c)&&Array.isArray(a[s])?a[s]=[...c,...a[s]]:k(c)&&k(a[s])?a[s]=T(c,a[s],(n?`${n}.`:"")+s.toString(),o):a[s]=c))}return a}function ce(e){return(...t)=>t.reduce((n,o)=>T(n,o,"",e),{})}const le=ce(),de=ne(()=>{const e=w(new Map),t=w(),n=S(()=>{for(const c of e.value.values())if(c)return!0;return!1}),o=G({scrollBody:w(!0)});let a=null;const s=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",D&&a?.(),t.value=void 0};return P(n,(c,y)=>{if(!L)return;if(!c){y&&s();return}t.value===void 0&&(t.value=document.body.style.overflow);const f=window.innerWidth-document.documentElement.clientWidth,b={padding:f,margin:0},i=o.scrollBody?.value?typeof o.scrollBody.value=="object"?le({padding:o.scrollBody.value.padding===!0?f:o.scrollBody.value.padding,margin:o.scrollBody.value.margin===!0?f:o.scrollBody.value.margin},b):b:{padding:0,margin:0};f>0&&(document.body.style.paddingRight=typeof i.padding=="number"?`${i.padding}px`:String(i.padding),document.body.style.marginRight=typeof i.margin=="number"?`${i.margin}px`:String(i.margin),document.documentElement.style.setProperty("--scrollbar-width",`${f}px`),document.body.style.overflow="hidden"),D&&(a=re(document,"touchmove",r=>fe(r),{passive:!1})),H(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function De(e){const t=Math.random().toString(36).substring(2,7),n=de();n.value.set(t,e??!1);const o=S({get:()=>n.value.get(t)??!1,set:a=>n.value.set(t,a)});return oe(()=>{n.value.delete(t)}),o}function W(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:W(n)}}function fe(e){const t=e||window.event,n=t.target;return n instanceof Element&&W(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}let x=0;function Me(){O(e=>{if(!L)return;const t=document.querySelectorAll("[data-reka-focus-guard]");document.body.insertAdjacentElement("afterbegin",t[0]??M()),document.body.insertAdjacentElement("beforeend",t[1]??M()),x++,e(()=>{x===1&&document.querySelectorAll("[data-reka-focus-guard]").forEach(n=>n.remove()),x--})})}function M(){const e=document.createElement("span");return e.setAttribute("data-reka-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var pe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},E=new WeakMap,C=new WeakMap,F={},A=0,K=function(e){return e&&(e.host||K(e.parentNode))},me=function(e,t){return t.map(function(n){if(e.contains(n))return n;var o=K(n);return o&&e.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},ye=function(e,t,n,o){var a=me(t,Array.isArray(e)?e:[e]);F[n]||(F[n]=new WeakMap);var s=F[n],c=[],y=new Set,f=new Set(a),b=function(r){!r||y.has(r)||(y.add(r),b(r.parentNode))};a.forEach(b);var i=function(r){!r||f.has(r)||Array.prototype.forEach.call(r.children,function(u){if(y.has(u))i(u);else try{var p=u.getAttribute(o),l=p!==null&&p!=="false",d=(E.get(u)||0)+1,m=(s.get(u)||0)+1;E.set(u,d),s.set(u,m),c.push(u),d===1&&l&&C.set(u,!0),m===1&&u.setAttribute(n,"true"),l||u.setAttribute(o,"true")}catch(v){console.error("aria-hidden: cannot operate on ",u,v)}})};return i(t),y.clear(),A++,function(){c.forEach(function(r){var u=E.get(r)-1,p=s.get(r)-1;E.set(r,u),s.set(r,p),u||(C.has(r)||r.removeAttribute(o),C.delete(r)),p||r.removeAttribute(n)}),A--,A||(E=new WeakMap,E=new WeakMap,C=new WeakMap,F={})}},ve=function(e,t,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),a=pe(e);return a?(o.push.apply(o,Array.from(a.querySelectorAll("[aria-live], script"))),ye(o,a,n,"aria-hidden")):function(){return null}};function Ne(e){let t;P(()=>se(e),n=>{n?t=ve(n):t&&t()}),V(()=>{t&&t()})}const he=ae(()=>w([]));function ge(){const e=he();return{add(t){const n=e.value[0];t!==n&&n?.pause(),e.value=N(e.value,t),e.value.unshift(t)},remove(t){e.value=N(e.value,t),e.value[0]?.resume()}}}function N(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function be(e){return e.filter(t=>t.tagName!=="A")}const _="focusScope.autoFocusOnMount",B="focusScope.autoFocusOnUnmount",j={bubbles:!1,cancelable:!0};function Ee(e,{select:t=!1}={}){const n=g();for(const o of e)if(h(o,{select:t}),g()!==n)return!0}function Se(e){const t=q(e),n=I(t,e),o=I(t.reverse(),e);return[n,o]}function q(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function I(e,t){for(const n of e)if(!we(n,{upTo:t}))return n}function we(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ce(e){return e instanceof HTMLInputElement&&"select"in e}function h(e,{select:t=!1}={}){if(e&&e.focus){const n=g();e.focus({preventScroll:!0}),e!==n&&Ce(e)&&t&&e.select()}}var Fe=Y({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:t}){const n=e,o=t,{currentRef:a,currentElement:s}=ie(),c=w(null),y=ge(),f=X({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});O(i=>{if(!L)return;const r=s.value;if(!n.trapped)return;function u(m){if(f.paused||!r)return;const v=m.target;r.contains(v)?c.value=v:h(c.value,{select:!0})}function p(m){if(f.paused||!r)return;const v=m.relatedTarget;v!==null&&(r.contains(v)||h(c.value,{select:!0}))}function l(m){r.contains(c.value)||h(r)}document.addEventListener("focusin",u),document.addEventListener("focusout",p);const d=new MutationObserver(l);r&&d.observe(r,{childList:!0,subtree:!0}),i(()=>{document.removeEventListener("focusin",u),document.removeEventListener("focusout",p),d.disconnect()})}),O(async i=>{const r=s.value;if(await H(),!r)return;y.add(f);const u=g();if(!r.contains(u)){const l=new CustomEvent(_,j);r.addEventListener(_,d=>o("mountAutoFocus",d)),r.dispatchEvent(l),l.defaultPrevented||(Ee(be(q(r)),{select:!0}),g()===u&&h(r))}i(()=>{r.removeEventListener(_,m=>o("mountAutoFocus",m));const l=new CustomEvent(B,j),d=m=>{o("unmountAutoFocus",m)};r.addEventListener(B,d),r.dispatchEvent(l),setTimeout(()=>{l.defaultPrevented||h(u??document.body,{select:!0}),r.removeEventListener(B,d),y.remove(f)},0)})});function b(i){if(!n.loop&&!n.trapped||f.paused)return;const r=i.key==="Tab"&&!i.altKey&&!i.ctrlKey&&!i.metaKey,u=g();if(r&&u){const p=i.currentTarget,[l,d]=Se(p);l&&d?!i.shiftKey&&u===d?(i.preventDefault(),n.loop&&h(l,{select:!0})):i.shiftKey&&u===l&&(i.preventDefault(),n.loop&&h(d,{select:!0})):u===p&&i.preventDefault()}}return(i,r)=>(z(),J(ee(ue),{ref_key:"currentRef",ref:a,tabindex:"-1","as-child":i.asChild,as:i.as,onKeydown:b},{default:Q(()=>[Z(i.$slots,"default")]),_:3},8,["as-child","as"]))}}),je=Fe;function Ie(e){return e?"open":"closed"}function Pe(e){const t=g();for(const n of e)if(n===t||(n.focus(),g()!==t))return}const ke=e=>{const t=e,n=Symbol(t);return[s=>(U(n,s),s),s=>{const c=R(n,s);if(!c)throw new Error(`Injection \`${n.toString()}\` not found. Component must be used within ${t}
        }`);return c}]},[He,Re]=ke("DialogContext"),$=Symbol("DialogBodyContext"),xe=e=>U($,e),Ae=()=>R($,null),_e=(e={})=>{const t=Ae(),n=S(()=>e?.container??t?.bodyElement.value??void 0),o=S(()=>{const s=te(e.collisionBoundary);return[...Array.isArray(s)?s:s?[s]:[],...t?.bodyElement.value?[t.bodyElement.value]:[]]}),a=S(()=>o.value.length>0?8:0);return{container:n,collisionBoundary:o,collisionPadding:a}};xe.__docgenInfo={exportName:"provideDialogBodyContext",displayName:"provideDialogBodyContext",type:2,props:[{name:"bodyElement",global:!1,description:"",tags:[],required:!0,type:"Ref<HTMLDivElement, HTMLDivElement>",declarations:[],schema:"Ref<HTMLDivElement, HTMLDivElement>"}],events:[],slots:[],exposed:[],sourceFiles:"/github-runner/_work/ck-tms-hycu/ck-tms-hycu/frontend/src/shared/ui/dialog/context.ts"};_e.__docgenInfo={exportName:"useDialogBodyCollisionBoundary",displayName:"useDialogBodyCollisionBoundary",type:2,props:[{name:"container",global:!1,description:"",tags:[],required:!1,type:"string | HTMLElement",declarations:[],schema:{kind:"enum",type:"string | HTMLElement",schema:["string",{kind:"object",type:"HTMLElement"}]}},{name:"collisionBoundary",global:!1,description:"",tags:[],required:!1,type:"Element | Element[]",declarations:[],schema:{kind:"enum",type:"Element | Element[]",schema:[{kind:"object",type:"Element"},{kind:"array",type:"Element[]"}]}}],events:[],slots:[],exposed:[],sourceFiles:"/github-runner/_work/ck-tms-hycu/ck-tms-hycu/frontend/src/shared/ui/dialog/context.ts"};export{je as F,De as a,Ne as b,_e as c,xe as d,Pe as f,Ie as g,Re as i,He as p,Me as u};
