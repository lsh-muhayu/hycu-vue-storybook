import{i as q}from"./useDirection-CfVJfeiS.js";import{b as S,r as w,y as N,R as P,L as $,d as Y,U as V,z as T,f as X,o as z,w as G,i as J,u as Q,V as j,W as I,Y as Z}from"./iframe-wQXNwKp8.js";import{g as ee,t as te,i as H,h as A,b as ne,e as oe,j as re,u as se,P as ie}from"./Primitive-CdtU2Bb9.js";import{g}from"./getActiveElement-FUKBWQwh.js";function k(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function O(e,t,n=".",o){if(!k(t))return O(e,{},n,o);const i=Object.assign({},t);for(const s in e){if(s==="__proto__"||s==="constructor")continue;const c=e[s];c!=null&&(o&&o(i,s,c,n)||(Array.isArray(c)&&Array.isArray(i[s])?i[s]=[...c,...i[s]]:k(c)&&k(i[s])?i[s]=O(c,i[s],(n?`${n}.`:"")+s.toString(),o):i[s]=c))}return i}function ae(e){return(...t)=>t.reduce((n,o)=>O(n,o,"",e),{})}const ue=ae(),ce=ee(()=>{const e=w(new Map),t=w(),n=S(()=>{for(const c of e.value.values())if(c)return!0;return!1}),o=q({scrollBody:w(!0)});let i=null;const s=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",A&&i?.(),t.value=void 0};return N(n,(c,m)=>{if(!H)return;if(!c){m&&s();return}t.value===void 0&&(t.value=document.body.style.overflow);const f=window.innerWidth-document.documentElement.clientWidth,b={padding:f,margin:0},a=o.scrollBody?.value?typeof o.scrollBody.value=="object"?ue({padding:o.scrollBody.value.padding===!0?f:o.scrollBody.value.padding,margin:o.scrollBody.value.margin===!0?f:o.scrollBody.value.margin},b):b:{padding:0,margin:0};f>0&&(document.body.style.paddingRight=typeof a.padding=="number"?`${a.padding}px`:String(a.padding),document.body.style.marginRight=typeof a.margin=="number"?`${a.margin}px`:String(a.margin),document.documentElement.style.setProperty("--scrollbar-width",`${f}px`),document.body.style.overflow="hidden"),A&&(i=ne(document,"touchmove",r=>le(r),{passive:!1})),P(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function Ae(e){const t=Math.random().toString(36).substring(2,7),n=ce();n.value.set(t,e??!1);const o=S({get:()=>n.value.get(t)??!1,set:i=>n.value.set(t,i)});return te(()=>{n.value.delete(t)}),o}function R(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:R(n)}}function le(e){const t=e||window.event,n=t.target;return n instanceof Element&&R(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}var de=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},E=new WeakMap,C=new WeakMap,F={},x=0,U=function(e){return e&&(e.host||U(e.parentNode))},fe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var o=U(n);return o&&e.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},pe=function(e,t,n,o){var i=fe(t,Array.isArray(e)?e:[e]);F[n]||(F[n]=new WeakMap);var s=F[n],c=[],m=new Set,f=new Set(i),b=function(r){!r||m.has(r)||(m.add(r),b(r.parentNode))};i.forEach(b);var a=function(r){!r||f.has(r)||Array.prototype.forEach.call(r.children,function(u){if(m.has(u))a(u);else try{var p=u.getAttribute(o),l=p!==null&&p!=="false",d=(E.get(u)||0)+1,y=(s.get(u)||0)+1;E.set(u,d),s.set(u,y),c.push(u),d===1&&l&&C.set(u,!0),y===1&&u.setAttribute(n,"true"),l||u.setAttribute(o,"true")}catch(v){console.error("aria-hidden: cannot operate on ",u,v)}})};return a(t),m.clear(),x++,function(){c.forEach(function(r){var u=E.get(r)-1,p=s.get(r)-1;E.set(r,u),s.set(r,p),u||(C.has(r)||r.removeAttribute(o),C.delete(r)),p||r.removeAttribute(n)}),x--,x||(E=new WeakMap,E=new WeakMap,C=new WeakMap,F={})}},ye=function(e,t,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),i=de(e);return i?(o.push.apply(o,Array.from(i.querySelectorAll("[aria-live], script"))),pe(o,i,n,"aria-hidden")):function(){return null}};function Le(e){let t;N(()=>oe(e),n=>{n?t=ye(n):t&&t()}),$(()=>{t&&t()})}const me=re(()=>w([]));function ve(){const e=me();return{add(t){const n=e.value[0];t!==n&&n?.pause(),e.value=L(e.value,t),e.value.unshift(t)},remove(t){e.value=L(e.value,t),e.value[0]?.resume()}}}function L(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function he(e){return e.filter(t=>t.tagName!=="A")}const _="focusScope.autoFocusOnMount",B="focusScope.autoFocusOnUnmount",D={bubbles:!1,cancelable:!0};function ge(e,{select:t=!1}={}){const n=g();for(const o of e)if(h(o,{select:t}),g()!==n)return!0}function be(e){const t=W(e),n=M(t,e),o=M(t.reverse(),e);return[n,o]}function W(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function M(e,t){for(const n of e)if(!Ee(n,{upTo:t}))return n}function Ee(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Se(e){return e instanceof HTMLInputElement&&"select"in e}function h(e,{select:t=!1}={}){if(e&&e.focus){const n=g();e.focus({preventScroll:!0}),e!==n&&Se(e)&&t&&e.select()}}var we=Y({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:t}){const n=e,o=t,{currentRef:i,currentElement:s}=se(),c=w(null),m=ve(),f=V({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});T(a=>{if(!H)return;const r=s.value;if(!n.trapped)return;function u(y){if(f.paused||!r)return;const v=y.target;r.contains(v)?c.value=v:h(c.value,{select:!0})}function p(y){if(f.paused||!r)return;const v=y.relatedTarget;v!==null&&(r.contains(v)||h(c.value,{select:!0}))}function l(y){r.contains(c.value)||h(r)}document.addEventListener("focusin",u),document.addEventListener("focusout",p);const d=new MutationObserver(l);r&&d.observe(r,{childList:!0,subtree:!0}),a(()=>{document.removeEventListener("focusin",u),document.removeEventListener("focusout",p),d.disconnect()})}),T(async a=>{const r=s.value;if(await P(),!r)return;m.add(f);const u=g();if(!r.contains(u)){const l=new CustomEvent(_,D);r.addEventListener(_,d=>o("mountAutoFocus",d)),r.dispatchEvent(l),l.defaultPrevented||(ge(he(W(r)),{select:!0}),g()===u&&h(r))}a(()=>{r.removeEventListener(_,y=>o("mountAutoFocus",y));const l=new CustomEvent(B,D),d=y=>{o("unmountAutoFocus",y)};r.addEventListener(B,d),r.dispatchEvent(l),setTimeout(()=>{l.defaultPrevented||h(u??document.body,{select:!0}),r.removeEventListener(B,d),m.remove(f)},0)})});function b(a){if(!n.loop&&!n.trapped||f.paused)return;const r=a.key==="Tab"&&!a.altKey&&!a.ctrlKey&&!a.metaKey,u=g();if(r&&u){const p=a.currentTarget,[l,d]=be(p);l&&d?!a.shiftKey&&u===d?(a.preventDefault(),n.loop&&h(l,{select:!0})):a.shiftKey&&u===l&&(a.preventDefault(),n.loop&&h(d,{select:!0})):u===p&&a.preventDefault()}}return(a,r)=>(z(),X(Q(ie),{ref_key:"currentRef",ref:i,tabindex:"-1","as-child":a.asChild,as:a.as,onKeydown:b},{default:G(()=>[J(a.$slots,"default")]),_:3},8,["as-child","as"]))}}),De=we;function Me(e){return e?"open":"closed"}function Ne(e){const t=g();for(const n of e)if(n===t||(n.focus(),g()!==t))return}const Ce=e=>{const t=e,n=Symbol(t);return[s=>(I(n,s),s),s=>{const c=j(n,s);if(!c)throw new Error(`Injection \`${n.toString()}\` not found. Component must be used within ${t}
        }`);return c}]},[Pe,je]=Ce("DialogContext"),K=Symbol("DialogBodyContext"),Fe=e=>I(K,e),ke=()=>j(K,null),xe=(e={})=>{const t=ke(),n=S(()=>e?.container??t?.bodyElement.value??void 0),o=S(()=>{const s=Z(e.collisionBoundary);return[...Array.isArray(s)?s:s?[s]:[],...t?.bodyElement.value?[t.bodyElement.value]:[]]}),i=S(()=>o.value.length>0?8:0);return{container:n,collisionBoundary:o,collisionPadding:i}};Fe.__docgenInfo={exportName:"provideDialogBodyContext",displayName:"provideDialogBodyContext",type:2,props:[{name:"bodyElement",global:!1,description:"",tags:[],required:!0,type:"Ref<HTMLDivElement, HTMLDivElement>",declarations:[],schema:"Ref<HTMLDivElement, HTMLDivElement>"}],events:[],slots:[],exposed:[],sourceFiles:"/github-runner/_work/ck-tms-hycu/ck-tms-hycu/frontend/src/shared/ui/dialog/context.ts"};xe.__docgenInfo={exportName:"useDialogBodyCollisionBoundary",displayName:"useDialogBodyCollisionBoundary",type:2,props:[{name:"container",global:!1,description:"",tags:[],required:!1,type:"string | HTMLElement",declarations:[],schema:{kind:"enum",type:"string | HTMLElement",schema:["string",{kind:"object",type:"HTMLElement"}]}},{name:"collisionBoundary",global:!1,description:"",tags:[],required:!1,type:"Element | Element[]",declarations:[],schema:{kind:"enum",type:"Element | Element[]",schema:[{kind:"object",type:"Element"},{kind:"array",type:"Element[]"}]}}],events:[],slots:[],exposed:[],sourceFiles:"/github-runner/_work/ck-tms-hycu/ck-tms-hycu/frontend/src/shared/ui/dialog/context.ts"};export{De as F,Le as a,xe as b,Fe as c,Ne as f,Me as g,je as i,Pe as p,Ae as u};
