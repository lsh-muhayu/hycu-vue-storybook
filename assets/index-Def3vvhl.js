import{i as J}from"./index-DU1TRiV2.js";import{a2 as O,r as V,x as p,b as _,K as h}from"./iframe-Be9uPrGJ.js";function y(i){return JSON.parse(JSON.stringify(i))}function w(i,o,x,$={}){var u,n;const{clone:a=!1,passive:N=!1,eventName:S,deep:d=!1,defaultValue:b,shouldEmit:f}=$,e=O(),c=x||e?.emit||(e==null||(u=e.$emit)===null||u===void 0?void 0:u.bind(e))||(e==null||(n=e.proxy)===null||n===void 0||(n=n.$emit)===null||n===void 0?void 0:n.bind(e?.proxy));let l=S;l=l||`update:${o.toString()}`;const m=t=>a?typeof a=="function"?a(t):y(t):t,v=()=>J(i[o])?m(i[o]):b,g=t=>{f?f(t)&&c(l,t):c(l,t)};if(N){const t=V(v());let s=!1;return p(()=>i[o],r=>{s||(s=!0,t.value=m(r),h(()=>s=!1))}),p(t,r=>{!s&&(r!==i[o]||d)&&g(r)},{deep:d}),t}else return _({get(){return v()},set(t){g(t)}})}export{w as u};
